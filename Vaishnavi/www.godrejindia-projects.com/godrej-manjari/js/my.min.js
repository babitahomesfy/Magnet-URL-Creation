
$('input[type=checkbox]').on('change', function() {
            this.value = this.checked ? 1 : 0;
        }).change();

// ***** PopUp start
        $(document).ready(function() {
        setTimeout(function() {
            $('.modal#PopUp').addClass('active')
        }, 3000);
        $('[data-target1]').on('click', function () {
            $(this).parents('.modal').removeClass('active')
                });
        });
// ****** popup end


$(".MobileButton").click(function () {
    $('.MainHeader .Inner .Navigation').addClass("Opened");
    if ($('.MainHeader .Inner .Navigation').hasClass('close')) {
        $('.MainHeader .Inner .Navigation').removeClass('close').addClass('Opened');
        $(".BodyOverlay").fadeIn(500)
    } else if ($('.MainHeader .Inner .Navigation').hasClass("Opened")) {
        $(".MainHeader .Inner .Navigation").removeClass("Opened").addClass("close");
        $(".BodyOverlay").fadeOut(400)
    }
    $('.BodyOverlay').click(function () {
        $(".MainHeader .Inner .Navigation").removeClass("Opened").addClass("close").trigger('click');
        $(".BodyOverlay").fadeOut(400)
    });
    $('.MainHeader .Inner .Navigation ul li a').click(function () {
        $(".MainHeader .Inner .Navigation").removeClass("Opened").addClass("close").trigger('click');
        $(".BodyOverlay").fadeOut(400)
    })
});
$(document).ready(function () {
    $(window).bind('scroll', function () {
        if ($(window).scrollTop() >= 100) {
            $('.MainHeader').addClass('fixed')
        } else {
            $('.MainHeader').removeClass('fixed')
        }
    })
});

$(window).scroll(function () {
    var scrollDistance = $(window).scrollTop();
    $('.Wuidth100').each(function (i) {
        if ($(this).position().top <= scrollDistance) {
            $('#menu a.active').removeClass('active');
            $('#menu a').eq(i).addClass('active')
        }
    })
}).scroll();

function model(mContent) {
    $(".overlay").fadeIn();
    $('.mText').html(mContent);
    $(".close").on('click', function () {
        $(".overlay").hide()
    })
}
var bac = "heading"
var abc = '<div class="well"><h2>' + bac + '<h2></div>'
$(document).ready(function () {
    model(abc)
});
setTimeout(function () {
    $('.overlay').hide()
}, 60000);
 var id;
    $('[data-target]').on('click', function () {
        id = $(this).attr('data-target');
          Title = {
            'Homemeeting':"Put your interests in action, get all the details right now.",
           'DownloadBrochure':"Mention your whatsapp number to receive Brochure on whatsapp",
           'PricePlan':"Get explicit details about the pricing and on spot offers",
           'FloorPlanSection':"You are trying to download a big file, get it on Whatsapp",
           'LocationSection':"Trouble finding the route? or Visit and see the residential project now",
           'EmiModal':'Calculate the monthly installment required to pay for your dream home',
           'default':"Please share your details. Our sales expert will call you shortly",

            }
          $('.modal.form h5').text(Title[id])
        $('.modal.form').attr('id', id).addClass('active')
    });
$('[data-target1]').on('click', function () {
    $(this).parents('.modal').removeClass('active')
});
$('.modal').on('click', function (e) {
    if (e.target !== this) {
        return
    };
    $(this).removeClass('active')
});
var projectId;
var RegNo;
var city;
var is_magnet=0;
var magnet_id;

let apiDataGet = async () => {
    let data = getProjectData(1269)       // Change Project_ID Integer Value only Ex:1131
        .then((data) =>{ 
            phone_no = data.result.phone;
            whatsapp_url = data.result.wp_links_sms;
             whatsapp_url=whatsapp_url.split("=");
            whatsapp_url[2]="I want to know more about "+whatsapp_url[2];
             whatsapp_url=whatsapp_url.join("=");
            projectId = data.result.Project.p_id;

            is_magnet = data.result.is_magnet;
            magnet_id = data.result.magnet_id?data.result.magnet_id:null;

            city = data.result.Project.Region.city;
            RegNo = data.result.Project.Region.region_name;
            $(".phone_url").attr("href", "tel:" + phone_no + "");
            $(".whatsapp_url").attr("href", whatsapp_url + ".");
            $(".phone_no").html(phone_no);
             
        })
        .catch((error) => {
            var whatsapp_url = "https://api.whatsapp.com/send?phone=917304412403&text=Hi!"
            $(".whatsapp_url").attr("href", whatsapp_url);
            $(".phone_url").attr("href", "tel:" + 917304927701 + "");
            $(".phone_no").html("917304927701")
        });
}    
apiDataGet();
var param_nationality = 1;
    $('#dropAnEnquiry').on("submit", function () {
        debugger
        var name = $('#dropname').val();
        var email = "No email";
        var number = $('#dropnumber').val();
        var checkbox = $('#checkbox').val();
        saveLead(name, email, number,checkbox, 'top_enquire_form');
        return !1
    })
    $('#HomemeetingForm').on("submit", function () {
        debugger
        var name = $('#Homemeetingname').val();
        var email = "Noe email";
        var number = $('#Homemeetingnumber').val();
        var checkbox = $('#checkbox').val();
        saveLead(name, email, number, checkbox,id+'_overview_homepage');
        return !1
    })

    $('#PopUpForm').on("submit", function () {
        debugger;
        var name =  $('#popFormname').val();;
        var email = "Noe email";
        var number = $('#popFormnumber').val();
        var checkbox = $('#checkbox').val();
        saveLead(name, email, number,checkbox, 'onlaodform_overview_homepage');
        return !1
    })

     async function  saveLead(name, email, number,checkbox, pref) {
    debugger;
    
    var getUtmData = queryForm();
    var ipAddress = await getIpAddress();
    var user_device = deviceData();
    var user_browser = browserData();
    
    
    var obj = {};
    obj.name = name;
    obj.number = number;
    obj.email = email;
    // obj.country_code = country_code;
    obj.is_tc_agree = parseInt(checkbox);
    // obj.admin_message= message; 
    obj.nationality = param_nationality; // 1 for indian & 2 for NRI (int)
    // obj.is_magnet = 1 ; // 1 for yes and 0 for no (int),
    // magnet_id =39603; //if magnet else blank (int)
    obj.source_id = 31;
    obj.project_id = projectId;
    if(getUtmData){
        obj.Utm = {
                utm_medium: getUtmData.utmmedium,
                utm_source: getUtmData.utmsource,
                utm_content: getUtmData.utmcontent,
                utm_term: getUtmData.utmterm
            };        
    }
    obj.Digital = {
            user_device: user_device,
            user_browser: user_browser,
            campaing_type: getUtmData ? getUtmData.utmcampaign : null,
            launch_name: "",
            client_ipaddress: ipAddress,
            client_pref: pref
        }
        if(is_magnet===1)
        {
            obj.is_magnet = is_magnet;
            obj.magnet_id = magnet_id;
            obj.source_id = 49;
        }
        else
        {
            obj.source_id = 31;
        }
        
    if (pref == 'DownloadBrochure_overview_homepage') {
        SendLead(obj, "ThankYou/thankyou.html");
    } else {
        SendLead(obj, "ThankYou/thankyou.html");
    }
}

//



(function () {
    $(function () {
        var toggle;
        return toggle = new Toggle('.toggle');
    });

    this.Toggle = (function () {
        Toggle.prototype.el = null;

        Toggle.prototype.tabs = null;

        Toggle.prototype.panels = null;

        function Toggle(toggleClass) {
            this.el = $(toggleClass);
            this.tabs = this.el.find(".tab");
            this.panels = this.el.find(".panel");
            this.bind();
        }

        Toggle.prototype.show = function (index) {
            var activePanel, activeTab;
            this.tabs.removeClass('active');
            activeTab = this.tabs.get(index);
            $(activeTab).addClass('active');
            this.panels.hide();
            activePanel = this.panels.get(index);
            return $(activePanel).show();
        };

        Toggle.prototype.bind = function () {
            var _this = this;
            return this.tabs.unbind('click').bind('click', function (e) {
                return _this.show($(e.currentTarget).index());
            });
        };

        return Toggle;

    })();

}).call(this);
///
/* Accordian Menu */
$(".Accordian .Item .Expand").hide(0);

//$(".Accordian .Item .Content").hide('slow');
//$(".Accordian .Item h2").click(function() {
//  $(".Accordian .Item .Content").hide();
//  $(this).next(".Accordian .Item .Content").slideToggle(500); 
//});

$(".Accordian .Item h2").click(function () {
    $(this).next('.Accordian .Item .Content').slideToggle();
    var $item = $(this);
    if ($(this).children('.Collapse').is(':visible')) {
        $(this).children('.Collapse').hide(0);
        $(this).children().next('.Expand').show();
    }
    else {
        $(this).children().next('.Expand').hide();
        $(this).children('.Collapse').show(0);

    }
});